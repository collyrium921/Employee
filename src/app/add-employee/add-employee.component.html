<form style="padding: 1rem;" [formGroup]="companyForm" (ngSubmit)="addCompany()">
    <div style="display: flex; justify-content: space-between; padding: 1rem;">
        <strong>Add New Company</strong>
        <button mat-stroked-button color="primary" [disabled]="companyForm.invalid">Save</button>
    </div>
    <div>
        <h4>Company Basic information</h4>
    </div>
    <div class="company-info">
        <mat-form-field appearance="outline">
            <mat-label>Company Name</mat-label>
            <input type="text" matInput formControlName="companyName" />
            <mat-error>
                {{ validationMessage('companyName', 'Company Name') }}
            </mat-error>
        </mat-form-field>
        <mat-form-field appearance="outline">
            <mat-label>Company Address</mat-label>
            <input matInput type="text" formControlName="address" />
        </mat-form-field>
        <mat-form-field appearance="outline">
            <mat-label>Email</mat-label>
            <input matInput type="email" formControlName="email" />
            <mat-error>
                {{ validationMessage('email', 'Email') }}
            </mat-error>
        </mat-form-field>
        <mat-form-field appearance="outline">
            <mat-label>Phone Number</mat-label>
            <input matInput type="tel" formControlName="phoneNumber" />
            <mat-error>
                {{ validationMessage('phoneNumber', 'Phone Number') }}
            </mat-error>
        </mat-form-field>
    </div>
    <div formArrayName="empInfo">
        <div *ngFor="let employee of empInfo().controls; let empIndex = index">
            <div [formGroupName]="empIndex">
                <div>
                    <h4>Employee information</h4>
                </div>
                <div class="employee-info">
                    <mat-form-field appearance="outline">
                        <mat-label>Name</mat-label>
                        <input matInput type="text" formControlName="empName" />
                        <mat-error>
                            {{ validationMessage('empInfo[0].empName', 'Employee Name') }}
                        </mat-error>
                    </mat-form-field>
                    <mat-form-field appearance="outline">
                        <mat-label>Designation</mat-label>
                        <mat-select formControlName="designation">
                            <mat-option *ngFor="let designation of designationList" [value]="designation.value">
                                {{ designation.showValue }}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                    <mat-form-field appearance="outline">
                        <mat-label>Join Date</mat-label>
                        <input matInput [matDatepicker]="picker" />
                        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                        <mat-datepicker #picker></mat-datepicker>
                    </mat-form-field>
                    <mat-form-field appearance="outline">
                        <mat-label>Email</mat-label>
                        <input matInput type="email" formControlName="email" />
                    </mat-form-field>
                    <mat-form-field appearance="outline">
                        <mat-label>Phone Number</mat-label>
                        <input matInput type="tel" formControlName="phoneNumber" />
                    </mat-form-field>
                </div>
                <div>
                    <h4>Skills information</h4>
                </div>
                <div formArrayName="skillInfo">
                    <div *ngFor="
              let skill of employeeSkills(empIndex).controls;
              let skillIndex = index
            ">
                        <div [formGroupName]="skillIndex">
                            <div class="skills-info">
                                <mat-form-field appearance="outline">
                                    <mat-label>SKill Name</mat-label>
                                    <mat-select formControlName="skillName">
                                        <mat-option *ngFor="let skill of skills" [value]="skill.value">
                                            {{ skill.value }}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                                <label>Rate Yourself:</label>
                                <mat-radio-group formControlName="skillRating">
                                    <mat-radio-button value="1 ">1</mat-radio-button>
                                    <mat-radio-button value="2 ">2</mat-radio-button>
                                    <mat-radio-button value="3 ">3</mat-radio-button>
                                    <mat-radio-button value="4 ">4</mat-radio-button>
                                    <mat-radio-button value="5 ">5</mat-radio-button>
                                </mat-radio-group>


                            </div>
                        </div>

                    </div>
                </div>
                <button mat-mini-fab color="primary" type="button" (click)="addEmployeeSkill(empIndex)">
                +
              </button>
                <div>
                    <h4>Education information</h4>
                </div>
                <div formArrayName="educationInfo">
                    <div *ngFor="
              let skill of employeeEducation(empIndex).controls;
              let educationIndex = index;
            ">
                        <div [formGroupName]="educationIndex">
                            <div class="education-info">
                                <mat-form-field appearance="outline">
                                    <mat-label>School/College Name</mat-label>
                                    <input matInput formControlName="instituteName" />
                                </mat-form-field>
                                <mat-form-field appearance="outline">
                                    <mat-label>Course Name</mat-label>
                                    <input matInput formControlName="courseName" />
                                </mat-form-field>
                                <mat-form-field appearance="outline">
                                    <mat-label>Completed Year</mat-label>
                                    <input matInput formControlName="completedYear" />
                                </mat-form-field>

                            </div>
                        </div>
                    </div>
                </div>
                <button mat-mini-fab type="button" color="primary" (click)="addEmployeeEducation(empIndex)">
                +
              </button>
            </div>
        </div>
    </div>
</form>